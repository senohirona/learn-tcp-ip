TCP/IPとはデータの送受信に関わる一連の作業をまとめたもの。
「データをデジタル信号にする->送り先に届ける->デジタル信号をデータに戻す」という作業を効率良く行うために、TCP/IPでは5段階の手順を踏む(これを層という)

# TCP/IPとは
現在、全世界共通の通信プロトコルとして理容されているのがTCP/IP
<大まかにやっていること>
- 送信したいデータを渡して共通の形にする
- 受信側で扱える形に変換する

データのやり取りにはいろいろな作業が必要なので、TCP/IPは複数のプロトコルからできている。

# 階層化
TCP/IPでは送受信に関わる一連の作業をいくつかの段階に分けて行っている。
各段階を層(レイヤー)といい、層に分けることを階層化という。

## TCP/IPは5階層

|送信側||受信側|
--|--|--|
|受信側のアプリケーションで扱えるようにする||アプリケーションで表示、再生する|
|ネットワーク上での共通の形にする||データに問題があれば、再送してもらう|
|送信先への経路を決めて、遅れる形にする||データの宛作を確認して、自分宛てでなければ破棄する|
|ビット列に変換する||ビット列をデータに変換する|
|ビット列を、電圧の変化や光の点滅の信号に変換して送信する|->|電圧の変化や光の点滅の信号をビット列に変換する|

# TCP/IPの構造
## 各層の役割とプロトコル
TCP/IPは5つの階層に分かれており、上に行くほどユーザーに、下に行くほど機器に近い作業を担当している。
各層には様々なプロトコルが用意されており、TCPとIPもその中の一つ

|層名|解説|プロトコル例|
--|--|--|
|アプリケーション層|アプリケーションに合わせた通信を行えるようにする。アプリケーション毎に様々なプロトコルがある。|HTTP, SMTP,POP3...|
|トランスポート層|送信されたデータを、確実に受信者のアプリケーションに届けるために働く。|TCP, UDP|
|ネットワーク層|受信側のコンピュータまでデータを届けるために働く。届けたデータが壊れているかということや、受信側が受け取ったかと言うことは関知しない|IP|
|データリンク層|ネットワークに直接接続された機器間を伝送できるようにする。ネットワーク層と物理層の違いを完全に給するために様々なプロトコルがある|Ethenet, FDDI, PPP...|
|物理層|データを信号に、信号をデータに変換する。変換方法は通信触媒に依存するため。特定のプロトコルは決められていない||

# 階層同士の連絡方法

## 必要な情報を付与する
送信側の角層では、受信側の同じ層で必要になる情報を共通の書式でデータに付加できる。
データよりも前に付加した情報をヘッダ、後ろに付加した情報をトレーラという。

上の層で付加されたヘッダとトレーラは、データと合わせてひとくくりになる。
データ情報をひとまとめにして行う事をカプセル化という。

## ヘッダと階層化の関係
送信側の各層で付加されたヘッダやトレーラは、受信側の同じ層でのみ理容される。
そのため、お互いに同じ層の間だけで連絡を取り合っているかのように見える。


# 階層で見るデータの送受信
## 送信側の作業

### アプリケーション層
アプリケーション間でデータをやり取りするために必要な情報を書き込む。

### トランスポート層
アプリケーションを示す番号やデータを組み立てるための情報を書き込む。

### ネットワーク層
送受信するコンピュータのアドレスや、宛先不明のときにデータを破棄する印などを書き込む。

### データリンク層
ネットワークの種類に合わせた形式で行き先の情報などを書き込む。

### 物理層
ビット列を信号に変換する

## 受信側の作業

### 物理層
信号をビット列に変換する

### データリンク層
ヘッダに書き込まれた情報を確認し、指定されたプロトコルに変換する

### ネットワーク層
ヘッダに書き込まれた宛先が正しいかどうかを確認し、指定されたプロトコルに渡す

### トランスポート層
ヘッダを確認し、データを順番通りに並べて組み立てる
データに問題があれば対応する

### アプリケーション層
指定されたアプリケーションにわたす


# パケットの旅

## パケット通信
TCP/IPでは、データを一定の大きさに分割して送受信するパケット交換という方法でやり取りを行う。
このような通信方式をパケット通信という。

### 送信側
- パケットに分ける
- 各パケットに届け先もとに戻すための番号など必要な情報を付加する
- 海鮮を使ってデータを送信する

### 送信側~受信側
- 他のネットワークの中継地点では、次はどこへ行けばよいのか等、新たな情報を付加される
- 受信側はパケットを回線に大応じた大きさにする

### 受信側
- 自分宛ての荷物だけ受け取る(自分宛ての荷物がなければ何もしない)
- ヘッダの情報をもとにして、データを戻す
  - 壊れていたら、該当するパケットだけを送信してもらう
- データを元通りにする
